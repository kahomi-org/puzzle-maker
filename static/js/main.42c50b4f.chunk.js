(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{61:function(e,t,n){e.exports=n(97)},66:function(e,t,n){},67:function(e,t,n){},97:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),l=n.n(o),i=(n(66),n(8)),s=n(9),c=n(12),u=n(10),d=n(11),m=(n(67),n(28)),h=n(101),f=n(98),p=n(18),g=n(25),v=n(26);function b(){var e=Object(g.a)(["\n  background: white;\n  width: 50px;\n  height: 50px;\n  text-align: center;\n  margin-left: 1px;\n  margin-bottom: 1px;\n  font-size: 2em;\n  &:before {\n    content: '","';\n    color: black;\n  };\n"]);return b=function(){return e},e}var E=v.a.span(b(),function(e){return e.char}),w="white",y=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={color:w,selected:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"toggle",value:function(){var e=this;this.setState({selected:!this.state.selected},function(){return e.props.onToggled(e.props.value,e.state.selected)})}},{key:"render",value:function(){var e=this,t={background:this.state.selected?"red":this.props.completed?"silver":w};return r.a.createElement(E,{onClick:function(){e.props.disabled||e.toggle()},style:t,char:this.props.value.char})}}]),t}(r.a.Component),x=n(15),C=n.n(x);function k(){var e=Object(g.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return k=function(){return e},e}var j=v.a.div(k());var O=function(e){for(var t=e.board,n=e.onCellToggled,a=e.disabled,o=e.foundCells,l=function(e,t){return t.filter(function(t){return void 0!==C.a.find(t.cells,function(t){return C.a.isEqual(t.position,e.position)})})},i=function(e,t){for(var i=[],s=0;s<e.length;s++){var c=e[s],u=l(c,o),d=s.toString()+(u&&u.reduce(function(e,t){return e+t},""));i.push(r.a.createElement(y,{value:c,key:d,onToggled:n,completed:u&&u.length>0,disabled:a}))}return r.a.createElement(j,{key:t},i)},s=[],c=0;c<t.length;c++)s.push(i(t[c],c));return r.a.createElement("div",{style:{margin:"0 15px 0 0",overflowX:"auto"}},r.a.createElement("div",{style:{paddingTop:"1px",paddingRight:"1px",background:"black"}},s))};function S(e,t){return Math.floor(Math.random()*(t-e+1))+e}function T(){var e="ABCDEFGHIJKLMNOPQRSTUVWXTZ";return e[Math.floor(Math.random()*e.length)]}function F(e,t,n){var a=0,r=0;switch(n){case 0:a=0,r=e-1;break;case 1:a=0,r=e-t-1;break;case-1:a=t,r=e-1}return[a,r]}function W(){var e;do{e={x:S(0,2)-1,y:S(0,2)-1}}while(0===e.x&&0===e.y);return e}function I(e,t,n){var a=function(e,t,n){return{x:F(e,t,n.x),y:F(e,t,n.y)}}(e,t,n);return{x:S(a.x[0],a.x[1]),y:S(a.y[0],a.y[1])}}function R(e,t,n,a){for(var r=0;r<t.length;r++){var o=a.x+r*n.x,l=e[a.y+r*n.y][o].char;if(""!==l&&l!==t[r])return!1}return!0}function G(e){if(!e||0===e.length)return[];e.sort(function(e,t){return t.text.length-e.text.length});var t=e[0].text.length+1,n=function(e){for(var t=[],n=0;n<e;n++){for(var a=[],r=0;r<e;r++)a.push(M("",{x:r,y:n}));t.push(a)}return t}(Math.max(t,5)),a=[];return e.forEach(function(e){(function(e,t){var n,a,r=t.text,o=(t.key,0),l=e.length;do{n=W(),a=I(l,r.length,n)}while(!R(e,r,n,a)&&++o<100);return o<100?(function(e,t,n,a){for(var r=t.key,o=t.text,l=0;l<o.length;l++){var i=a.x+l*n.x,s=a.y+l*n.y,c=e[s][i];c.char?N(c,r):e[s][i]=M(o[l],{x:i,y:s},r)}}(e,t,n,a),!0):(console.log("ignore the word >>>",r),!1)})(n,e)||a.push(e.key)}),function(e){e.forEach(function(e){for(var t=0;t<e.length;t++)""===e[t].char&&(e[t].char=T())})}(n),{board:n,renderFailed:a}}function M(e,t,n){return{char:e,position:t,tags:[n]}}function N(e,t){return Object(m.a)({},e,{tags:[].concat(Object(p.a)(e.tags),[t])})}var L=function(e){function t(e){var n;Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e)))._formattedWords=[],n.handleCellToggled=function(e,t){var a;a=t?[].concat(Object(p.a)(n.state.selectedCells),[e]):n.state.selectedCells.filter(function(t){return!C.a.isEqual(t,e)}),n.setState({selectedCells:a},n.handleSelectedCellsChanged)},n.handleSelectedCellsChanged=function(){var e=n.checkWordComplete(),t=e&&e.key;C.a.isNumber(t)&&(console.log("congratulation >>> you found one word"),n.setState({selectedCells:[],wordsFound:[].concat(Object(p.a)(n.state.wordsFound),[t]),foundCells:[].concat(Object(p.a)(n.state.foundCells),[{key:t,cells:n.state.selectedCells}])},function(){n.props.onWordFound(n.state.wordsFound),C.a.find(n._formattedWords,function(e){return e.key===t}).found=!0}))},n.checkWordComplete=function(){return function(e,t){var n=function(e){return e.sort(function(e,t){return e.position.x-t.position.x||e.position.y-t.position.y})}(e);return function(e){if(e&&e.length<=1)return!0;var t=e[1].position.x-e[0].position.x,n=e[1].position.y-e[0].position.y;if(0!==t&&1!==t&&-1!==t||0!==n&&1!==n&&-1!==n)return!1;for(var a=2;a<e.length;a++)if(t!==e[a].position.x-e[a-1].position.x||n!==e[a].position.y-e[a-1].position.y)return!1;return!0}(n)&&function(e,t){return t.find(function(t){return t.text===e.map(function(e){return e.char}).join("")})||t.find(function(t){return t.text===e.map(function(e){return e.char}).reverse().join("")})}(n,t)}(n.state.selectedCells,n._formattedWords.filter(function(e){return!e.found}))},n._formattedWords=e.words.map(function(e,t){return{text:function(e){var t=e;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")).replace(/ + /g," ")).trim()}(e).replace(/ */g,"").toUpperCase(),key:t}});var a=G(Object(p.a)(n._formattedWords)),r=a.board,o=a.renderFailed;return n.state={selectedCells:[],wordsFound:[],board:r,renderFailed:o,foundCells:[]},e.onFinishRender(o),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(O,{board:this.state.board,onCellToggled:this.handleCellToggled,findFoundKeyInBox:this.findFoundKeyInBox,disabled:this.props.disabled,foundCells:this.state.foundCells})}}]),t}(a.Component),_=n(53),B=function(){return r.a.createElement("span",{style:{color:"blue"}},"Kh\xf4ng \u0111\u01b0\u1ee3c kh\xf4n nh\u1eafm =]]")},V=function(e){e.hours;var t=e.minutes,n=e.seconds;return e.completed?r.a.createElement(B,null):r.a.createElement("span",null,"Time left:",r.a.createElement("span",{style:{color:"red",marginLeft:"10px"}},C.a.padStart(t,2,"0"),":",C.a.padStart(n,2,"0")))},P=n(100);function A(e){var t=e.words;return r.a.createElement(P.a,null,t.map(function(e,t){var n=e.value,a=e.notRendered,o=e.found;return r.a.createElement(P.a.Item,{as:"li",key:t,variant:a?"warning":o?"dark":""},n)}))}var D=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleGameEnded=function(){var e=n.state,t=e.wordsFound,a=e.failedIndexs;t.length+a.length===n.props.words.length&&n.setState({completed:!0},function(){n._countdown.pause()})},n.remake=function(){n.setState({wordsFound:[],boardId:n.state.boardId+1,timer:{startedTime:Date.now(),timeup:!1},completed:!1})},n.handleRenderFailed=function(e){n.setState({failedIndexs:e})},n.handleTimeUp=function(){n.setState({timer:Object(m.a)({},n.state.timer,{timeup:!0})})},n.handleCancel=function(){n.setState({renewConfirmationShow:!1})},n.handleConfirm=function(){n.setState({renewConfirmationShow:!1},n.props.onNewGame)},n.handleRenewClick=function(){!n.state.completed&&n.state.wordsFound.length>0?n.setState({renewConfirmationShow:!0}):n.props.onNewGame()},n.state={wordsFound:[],boardId:0,failedIndexs:[],timer:{startedTime:Date.now(),timeup:!1},completed:!1,renewConfirmationShow:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"renderWordList",value:function(){for(var e=this.props.words,t=this.state,n=t.failedIndexs,a=t.wordsFound,o=Math.ceil(e.length/9),l=[],i=0;i<o;i++)l.push([]);return e.forEach(function(e,t){var r={value:e,notRendered:n.includes(t),found:a&&a.includes(t)};l[t%o].push(r)}),r.a.createElement("div",{style:{display:"flex"}},l.map(function(e,t){return r.a.createElement("div",{key:t,style:{marginRight:"20px"}},r.a.createElement(A,{words:e}))}))}},{key:"render",value:function(){var e=this,t=this.props.words;return r.a.createElement("div",null,r.a.createElement("h2",null,this.props.topic||"Have fun"),r.a.createElement("h4",null,r.a.createElement(_.a,{date:this.state.timer.startedTime+this.props.duration,onComplete:this.handleTimeUp,renderer:V,key:this.state.timer.startedTime,ref:function(t){return e._countdown=t}})),this.state.completed&&r.a.createElement("h4",null,r.a.createElement("span",{style:{color:"green"}},"Congratulation!")),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(L,{disabled:this.state.timer.timeup||this.state.completed,key:this.state.boardId,words:t,onWordFound:function(t){e.setState({wordsFound:t},e.handleGameEnded)},onFinishRender:this.handleRenderFailed}),r.a.createElement("div",null,r.a.createElement(h.a,{variant:"success",onClick:this.handleRenewClick},"New game"),r.a.createElement(h.a,{variant:"success",onClick:this.remake,style:{marginLeft:"10px"}},"Remake"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{float:"left"}},"Found words:"," ",r.a.createElement("strong",null,this.state.wordsFound.length,"/",t.length-this.state.failedIndexs.length)),r.a.createElement("br",null),this.renderWordList(),r.a.createElement("br",null),this.state.failedIndexs.length>0&&r.a.createElement("div",{style:{color:"red"}},"There are ",this.state.failedIndexs.length," word(s) failed to render. You can play with the rendered words or click"," ",r.a.createElement("span",{style:{color:"blue"}},"Remake")," button to try again."))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(f.a,{show:this.state.renewConfirmationShow,onHide:this.handleCancel},r.a.createElement(f.a.Header,{closeButton:!0},r.a.createElement(f.a.Title,null,"New game")),r.a.createElement(f.a.Body,null,"Do you really want to renew the game?"),r.a.createElement(f.a.Footer,null,r.a.createElement(h.a,{variant:"secondary",onClick:this.handleCancel},"Cancel"),r.a.createElement(h.a,{variant:"primary",onClick:this.handleConfirm},"Renew"))))}}]),t}(a.Component);D.defaultProps={duration:3e3};var H=n(99),K=n(59),U=n(57),z=n.n(U),J=3,q=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gameTitle:"",textValue:"",limittedTime:J},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleWordsChange",value:function(e){var t=e.target.value;this.setState({textValue:t})}},{key:"handleGameTitleChange",value:function(e){var t=e.target.value;this.setState({gameTitle:t})}},{key:"makeGame",value:function(){if(this.state.textValue){var e=this.state.textValue.split(/,|\n/).map(function(e){return e.trim()}).filter(function(e){return e});0!==(e=e.filter(function(e,t,n){return n.findIndex(function(t){return t.toLowerCase()===e.toLowerCase()})===t})).length&&this.props.onMakeGame(e,this.state.gameTitle,60*this.state.limittedTime*1e3)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"WordSearch generator"),r.a.createElement("br",null),r.a.createElement(H.a,null,r.a.createElement(H.a.Row,null,r.a.createElement(K.a,{sm:{span:4,offset:4}},r.a.createElement(H.a.Control,{size:"lg",type:"text",placeholder:"What's the topic?",value:this.state.gameTitle,onChange:function(t){return e.handleGameTitleChange(t)}}))),r.a.createElement("br",null),r.a.createElement(H.a.Row,null,r.a.createElement(K.a,{sm:{span:4,offset:4}},r.a.createElement(H.a.Control,{size:"lg",placeholder:"Enter the list of words",value:this.state.textValue,onChange:function(t){return e.handleWordsChange(t)},as:"textarea",rows:"6"}))),r.a.createElement(H.a.Text,{className:"text-muted"},"Separated by comma (,) or line"),r.a.createElement("br",null),r.a.createElement(H.a.Row,null,r.a.createElement(K.a,{sm:{span:"auto",offset:4}},r.a.createElement(H.a.Text,null,"Limmited Time:")),r.a.createElement(K.a,{sm:{span:"1"}},r.a.createElement(z.a,{className:"form-control",value:this.state.limittedTime,min:.5,max:100,step:.5,precision:1,snap:!0,onChange:function(t){e.setState({limittedTime:t})}})),r.a.createElement(K.a,{sm:{span:"auto"}},r.a.createElement(H.a.Text,null,"in minutes"))),r.a.createElement("br",null),r.a.createElement(h.a,{variant:"success",onClick:function(){e.makeGame()},disabled:!this.state.textValue.trim()},"Generate")))}}]),t}(a.Component),X={Making:0,Playing:1},$=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={words:[],gameStatus:X.Making},n.makeGame=function(e,t,a){n.setState({words:e,topic:t,limittedTime:a,gameEnded:!1,gameStatus:X.Playing})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.gameStatus===X.Making&&r.a.createElement(q,{onMakeGame:this.makeGame}),r.a.createElement("br",null),this.state.gameStatus===X.Playing&&r.a.createElement(D,{words:this.state.words,topic:this.state.topic,onNewGame:function(){return e.setState({gameStatus:X.Making})},duration:this.state.limittedTime}))}}]),t}(r.a.Component),Q=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement($,null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(96);l.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[61,1,2]]]);
//# sourceMappingURL=main.42c50b4f.chunk.js.map
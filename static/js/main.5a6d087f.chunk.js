(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{43:function(e,t,n){e.exports=n(66)},48:function(e,t,n){},49:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(14),o=n.n(l),c=(n(48),n(6)),i=n(7),u=n(10),s=n(8),d=n(9),h=(n(49),n(67)),f=n(69),m=n(70),g=n(16),p=n(19),v=n(20);function b(){var e=Object(p.a)(["\n  background: white;\n  width: 50px;\n  height: 50px;\n  text-align: center;\n  margin-left: 1px;\n  margin-bottom: 1px;\n  font-size: 2em;\n  &:before {\n    content: '","';\n    color: black;\n  };\n"]);return b=function(){return e},e}var E=v.a.span(b(),function(e){return e.char}),y="white",k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).state={color:y,selected:!1},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"toggle",value:function(){var e=this;this.setState({selected:!this.state.selected},function(){return e.props.onToggled(e.props.value,e.state.selected)})}},{key:"render",value:function(){var e=this,t={background:this.state.selected?"red":this.props.completed?"silver":y};return r.a.createElement(E,{onClick:function(){e.toggle()},style:t,char:this.props.value.char})}}]),t}(r.a.Component);function w(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return w=function(){return e},e}var x=v.a.div(w());var C=function(e){for(var t=e.board,n=e.onCellToggled,a=e.findFoundKeyInBox,l=function(e,t){for(var l=[],o=0;o<e.length;o++){var c=e[o],i=a(c),u=o.toString()+i.toString();l.push(r.a.createElement(k,{value:c,key:u,onToggled:n,completed:""!==i}))}return r.a.createElement(x,{key:t},l)},o=[],c=0;c<t.length;c++)o.push(l(t[c],c));return r.a.createElement("div",{style:{margin:"0 15px 0 0"}},r.a.createElement("div",{style:{paddingTop:"1px",paddingRight:"1px",background:"black"}},o))},O=n(17),j=n.n(O);function S(e,t){return Math.floor(Math.random()*(t-e+1))+e}function F(){var e="ABCDEFGHIJKLMNOPQRSTUVWXTZ";return e[Math.floor(Math.random()*e.length)]}function I(e,t,n){var a=0,r=0;switch(n){case 0:a=0,r=e-1;break;case 1:a=0,r=e-t-1;break;case-1:a=t,r=e-1}return[a,r]}function T(){var e;do{e={x:S(0,2)-1,y:S(0,2)-1}}while(0===e.x&&0===e.y);return e}function G(e,t,n){var a=function(e,t,n){return{x:I(e,t,n.x),y:I(e,t,n.y)}}(e,t,n);return{x:S(a.x[0],a.x[1]),y:S(a.y[0],a.y[1])}}function M(e,t,n,a){for(var r=0;r<t.length;r++){var l=a.x+r*n.x,o=a.y+r*n.y,c=e[l][o].char;if(""!==c&&c!==t[r])return!1}return!0}function W(e){return{char:e,tags:[{key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,checkSum:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}]}}function R(e,t,n){return e.tags.push({key:t,checkSum:n}),e}function B(e){var t=Object(g.a)(e);if(!t||0===t.length)return[];t.sort(function(e,t){return t.length-e.length});var n=function(e){for(var t=[],n=0;n<e;n++){for(var a=[],r=0;r<e;r++)a.push(W(""));t.push(a)}return t}(t[0].length+3),a=[];return t.filter(function(e){return e}).map(function(e){return e.trim().toUpperCase()}).forEach(function(t){var r=e.findIndex(function(e){return e.trim().toUpperCase()===t});(function(e,t,n){var a,r,l=0,o=e.length;do{a=T(),r=G(o,t.length,a)}while(!M(e,t,a,r)&&++l<100);return l<100?(function(e,t,n,a,r){for(var l=0;l<t.length;l++){var o=a.x+l*n.x,c=a.y+l*n.y,i=e[o][c];i.char?R(i,r,t.length):e[o][c]=W(t[l],r,t.length)}}(e,t,a,r,n),!0):(console.log("ignore the word >>>",t),!1)})(n,t,r)||a.push(r)}),function(e){e.forEach(function(e){for(var t=0;t<e.length;t++)""===e[t].char&&(e[t].char=F())})}(n),{board:n,renderFailed:a}}var N=function(e){function t(e){var n;Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).findFoundKeyInBox=function(e){return e.tags.reduce(function(e,t){return n.state.wordsFound.includes(t.key)?e+t.key:e},"")},n.handleCellToggled=function(e,t){var a;a=t?[].concat(Object(g.a)(n.state.selectedCells),[e]):n.state.selectedCells.filter(function(t){return!j.a.isEqual(t,e)}),n.setState({selectedCells:a},n.handleSelectedCellsChanged)},n.handleSelectedCellsChanged=function(){var e=n.checkWordComplete();j.a.isNumber(e)&&(console.log("congratulation >>> you found one word"),n.setState({selectedCells:[],wordsFound:[].concat(Object(g.a)(n.state.wordsFound),[e])},function(){return n.props.onWordFound(n.state.wordsFound)}))},n.checkWordComplete=function(){var e=n.state.selectedCells;if(e&&e.length>0){var t=e[0].tags,a=null;return t.forEach(function(t){var n=t.key,r=t.checkSum;if(n>=0&&r===e.length&&j.a.every(e,function(e){return j.a.some(e.tags,function(e){return e.key===n})}))return void(a=n)}),a}return null};var a=B(e.words),r=a.board,l=a.renderFailed;return n.state={selectedCells:[],wordsFound:[],board:r,renderFailed:l},e.onFinishRender(l),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(C,{board:this.state.board,onCellToggled:this.handleCellToggled,findFoundKeyInBox:this.findFoundKeyInBox})}}]),t}(a.Component),V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(u.a)(this,Object(s.a)(t).call(this,e))).handleGameEnded=function(){var e=n.state,t=e.wordsFound,a=e.failedIndexs;t.length+a.length===n.props.words.length&&n.setState({gameEnded:!0})},n.remake=function(){n.setState({gameEnded:!1,wordsFound:[],boardId:n.state.boardId+1})},n.handleRenderFailed=function(e){n.setState({failedIndexs:e})},n.state={gameEnded:!1,wordsFound:[],boardId:0,failedIndexs:[]},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.words;return r.a.createElement("div",null,r.a.createElement("h1",null,this.props.topic||"Have fun"),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(N,{key:this.state.boardId,words:t,onWordFound:function(t){e.setState({wordsFound:t},e.handleGameEnded)},onFinishRender:this.handleRenderFailed}),r.a.createElement("div",null,r.a.createElement(h.a,{variant:"success",onClick:this.props.onNewGame,disabled:!this.state.gameEnded},"New game"),r.a.createElement(h.a,{variant:"success",onClick:this.remake,style:{marginLeft:"10px"}},"Remake"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(f.a,null,t.map(function(t,n){return r.a.createElement(f.a.Item,{as:"li",key:n,variant:e.state.failedIndexs.includes(n)?"warning":e.state.wordsFound&&e.state.wordsFound.includes(n)?"dark":""},t)})))),r.a.createElement("br",null),r.a.createElement("br",null),this.state.gameEnded&&r.a.createElement(m.a,{dismissible:!0,variant:"primary"},r.a.createElement(m.a.Heading,null,"Congratulation!"),r.a.createElement("p",null,"You have found all the words")))}}]),t}(a.Component),K=n(68),A=n(40),P=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={gameTitle:"",textValue:""},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"handleWordsChange",value:function(e){var t=e.target.value;this.setState({textValue:t})}},{key:"handleGameTitleChange",value:function(e){var t=e.target.value;this.setState({gameTitle:t})}},{key:"makeGame",value:function(){if(this.state.textValue){var e=this.state.textValue.replace(/ */g,"").split(/,|\n/).filter(function(e){return e}).map(function(e){return function(e){var t=e;return t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g,"a")).replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g,"e")).replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g,"i")).replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g,"o")).replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g,"u")).replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g,"y")).replace(/\u0111/g,"d")).replace(/!|@|%|\^|\*|\(|\)|\+|\=|\<|\>|\?|\/|,|\.|\:|\;|\'|\"|\&|\#|\[|\]|~|\$|_|`|-|{|}|\||\\/g," ")).replace(/ + /g," ")).trim()}(e)});0!==(e=e.filter(function(e,t,n){return n.indexOf(e)===t})).length&&this.props.onMakeGame(e,this.state.gameTitle)}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h1",null,"WordSearch generator"),r.a.createElement("br",null),r.a.createElement(K.a,null,r.a.createElement(K.a.Row,null,r.a.createElement(A.a,{sm:{span:4,offset:4}},r.a.createElement(K.a.Control,{size:"lg",type:"text",placeholder:"What's the topic?",value:this.state.gameTitle,onChange:function(t){return e.handleGameTitleChange(t)}}))),r.a.createElement("br",null),r.a.createElement(K.a.Row,null,r.a.createElement(A.a,{sm:{span:4,offset:4}},r.a.createElement(K.a.Control,{size:"lg",placeholder:"Enter the list of words",value:this.state.textValue,onChange:function(t){return e.handleWordsChange(t)},as:"textarea",rows:"6"}))),r.a.createElement(K.a.Text,{className:"text-muted"},"Separated by comma (,) or line"),r.a.createElement("br",null),r.a.createElement(h.a,{variant:"success",onClick:function(){e.makeGame()},disabled:!this.state.textValue.trim()},"Generate")))}}]),t}(a.Component),z={Making:0,Playing:1},H=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={words:[],gameStatus:z.Making},n.makeGame=function(e,t){n.setState({words:e,topic:t,gameEnded:!1,gameStatus:z.Playing})},n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.gameStatus===z.Making&&r.a.createElement(P,{onMakeGame:this.makeGame}),r.a.createElement("br",null),this.state.gameStatus===z.Playing&&r.a.createElement(V,{words:this.state.words,topic:this.state.topic,onNewGame:function(){return e.setState({gameStatus:z.Making})}}))}}]),t}(r.a.Component),J=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(H,null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(65);o.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.5a6d087f.chunk.js.map
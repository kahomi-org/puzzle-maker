(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,n){e.exports=n(67)},46:function(e,t,n){},47:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),l=n.n(o),c=(n(46),n(6)),u=n(7),i=n(10),s=n(8),d=n(9),h=(n(47),n(70)),f=n(37),g=n(69),m=n(71),v=n(26),p=n(17),b=n(18);function y(){var e=Object(p.a)(["\n  background: gray;\n  width: 50px;\n  height: 50px;\n  text-align: center;\n  margin-left: 1px;\n  margin-bottom: 1px;\n  font-size: 2em;\n"]);return y=function(){return e},e}var E=b.a.span(y()),w="gray",k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).state={color:w,selected:!1},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"toggle",value:function(){var e=this;this.setState({selected:!this.state.selected},function(){return e.props.onToggled(e.props.value,e.state.selected)})}},{key:"render",value:function(){var e=this,t={background:this.state.selected?"red":this.props.completed?"green":w};return a.a.createElement(E,{onClick:function(){e.toggle()},style:t},this.props.value.char)}}]),t}(a.a.Component);function C(){var e=Object(p.a)(["\n  display: flex;\n  flex-direction: row;\n"]);return C=function(){return e},e}var x=b.a.div(C());var O=function(e){for(var t=e.board,n=e.onCellToggled,r=e.findFoundKeyInBox,o=function(e,t){for(var o=[],l=0;l<e.length;l++){var c=e[l],u=r(c),i=l.toString()+u.toString();o.push(a.a.createElement(k,{value:c,key:i,onToggled:n,completed:""!==u}))}return a.a.createElement(x,{key:t},o)},l=[],c=0;c<t.length;c++)l.push(o(t[c],c));return a.a.createElement("div",{style:{display:"table",margin:"0 auto"}},l)},j=n(15),S=n.n(j);function F(e,t){return Math.floor(Math.random()*(t-e+1))+e}function I(){var e="ABCDEFGHIJKLMNOPQRSTUVWXTZ";return e[Math.floor(Math.random()*e.length)]}function W(e,t,n){var r=0,a=0;switch(n){case 0:r=0,a=e-1;break;case 1:r=0,a=e-t-1;break;case-1:r=t,a=e-1}return[r,a]}function T(){var e;do{e={x:F(0,2)-1,y:F(0,2)-1}}while(0===e.x&&0===e.y);return e}function B(e,t,n){var r=function(e,t,n){return{x:W(e,t,n.x),y:W(e,t,n.y)}}(e,t,n);return{x:F(r.x[0],r.x[1]),y:F(r.y[0],r.y[1])}}function K(e,t,n,r){for(var a=0;a<t.length;a++){var o=r.x+a*n.x,l=r.y+a*n.y,c=e[o][l].char;if(""!==c&&c!==t[a])return!1}return!0}function M(e){return{char:e,tags:[{key:arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,checkSum:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0}]}}function V(e,t,n){return e.tags.push({key:t,checkSum:n}),e}function G(e){if(!e||0===e.length)return[];console.log("generate board"),e.sort(function(e,t){return e.length<t.length});var t=function(e){for(var t=[],n=0;n<e;n++){for(var r=[],a=0;a<e;a++)r.push(M(""));t.push(r)}return t}(e[0].length+3);return e.filter(function(e){return e}).map(function(e){return e.trim().toUpperCase()}).forEach(function(e,n){!function(e,t,n){var r,a,o=0,l=e.length;do{r=T(),a=B(l,t.length,r)}while(!K(e,t,r,a)&&++o<100);if(o>=100)return void console.log("ignore the word >>>",t);!function(e,t,n,r,a){for(var o=0;o<t.length;o++){var l=r.x+o*n.x,c=r.y+o*n.y,u=e[l][c];u.char?V(u,a,t.length):e[l][c]=M(t[o],a,t.length)}}(e,t,r,a,n)}(t,e,n)}),function(e){e.forEach(function(e){for(var t=0;t<e.length;t++)""===e[t].char&&(e[t].char=I())})}(t),t}var J=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).findFoundKeyInBox=function(e){return e.tags.reduce(function(e,t){return n.state.wordsFound.includes(t.key)?e+t.key:e},"")},n.handleCellToggled=function(e,t){var r;r=t?[].concat(Object(v.a)(n.state.selectedCells),[e]):n.state.selectedCells.filter(function(t){return!S.a.isEqual(t,e)}),n.setState({selectedCells:r},n.handleSelectedCellsChanged)},n.handleSelectedCellsChanged=function(){var e=n.checkWordComplete();S.a.isNumber(e)&&(console.log("congratulation >>> you found one word"),n.setState({selectedCells:[],wordsFound:[].concat(Object(v.a)(n.state.wordsFound),[e])},n.handleWordFound))},n.handleWordFound=function(e){n.props.onWordFound(e);var t=n.state.wordsFound;t.length>0&&t.length===n.props.words.length&&n.props.onCompleted()},n.checkWordComplete=function(){var e=n.state.selectedCells;if(e&&e.length>0){var t=e[0].tags,r=null;return t.forEach(function(t){var n=t.key,a=t.checkSum;if(n>=0&&a===e.length&&S.a.every(e,function(e){return S.a.some(e.tags,function(e){return e.key===n})}))return void(r=n)}),r}return null},n.state={selectedCells:[],wordsFound:[],board:G(e.words)},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement(O,{board:this.state.board,onCellToggled:this.handleCellToggled,findFoundKeyInBox:this.findFoundKeyInBox})}}]),t}(r.Component),N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(s.a)(t).call(this,e))).handleGameEnded=function(){n.setState({gameEnded:!0})},n.state={words:[],boardId:0,gameEnded:!1},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"generate",value:function(){if(this.state.textValue){var e=this.state.textValue.split("\n").filter(function(e){return""!==e.trim()});this.setState({words:e.map(function(e){return e.trim()}),boardId:this.state.boardId+1,gameEnded:!1})}}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({textValue:t})}},{key:"render",value:function(){var e=this;return a.a.createElement("div",null,a.a.createElement("h1",null,"WordSearch generator"),a.a.createElement(h.a,null,a.a.createElement(h.a.Label,null,"Enter the word list (1 word per line)"),a.a.createElement(h.a.Row,null,a.a.createElement(f.a,{sm:"4"}),a.a.createElement(f.a,{sm:"4"},a.a.createElement(h.a.Control,{as:"textarea",rows:"6",value:this.state.textValue,onChange:function(t){return e.handleChange(t)}}))),a.a.createElement("br",null),a.a.createElement(g.a,{variant:"success",onClick:function(){e.generate()}},"Generate")),a.a.createElement("br",null),a.a.createElement(J,{words:this.state.words,onCompleted:this.handleGameEnded,key:this.state.boardId,onWordFound:function(){console.log("on word found")}}),a.a.createElement("br",null),a.a.createElement("br",null),this.state.gameEnded&&a.a.createElement(m.a,{dismissible:!0,variant:"primary"},a.a.createElement(m.a.Heading,null,"Congratulation!"),a.a.createElement("p",null,"You have found all the words")))}}]),t}(a.a.Component),A=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement(N,null),a.a.createElement("br",null),a.a.createElement("br",null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(66);l.a.render(a.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.1d88577f.chunk.js.map